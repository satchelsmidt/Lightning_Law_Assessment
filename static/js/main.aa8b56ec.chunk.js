(this["webpackJsonplightning-law"]=this["webpackJsonplightning-law"]||[]).push([[0],{22:function(e,t,n){e.exports=n(52)},27:function(e,t,n){},45:function(e){e.exports=JSON.parse("{}")},52:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(7),i=n.n(l),c=(n(27),n(8)),o=n(3),u=n(18),s=n.n(u);var m=n(21),f=(n(45),n(4)),v=n.n(f);function d(e){var t=e.countryData,n=e.changeSelectedCountry,a=e.currentCountry;return r.a.createElement("div",null,r.a.createElement(v.a,{options:t,onChange:function(e){return function(e){n(e.value)}(e)},value:a,placeholder:""===a?"Select Country from Dropdown":a}))}function g(e){var t=e.selectedCountryReviews;return r.a.createElement("div",null,r.a.createElement("p",null,"Total Reviews: ",t.length))}var p=n(20),y=n.n(p);function h(e){var t=e.selectedCountryReviews,n=e.offset,a=e.perPage,l=e.handlePageClick,i=e.pageCount,c=t.slice(n,n+a);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Variety"),r.a.createElement("th",null,"Winery"),r.a.createElement("th",null,"Points"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Description")),c.map((function(e){return r.a.createElement("tr",{key:e.title,style:E.tableRow},r.a.createElement("td",null,e.title?e.title:"N/A"),r.a.createElement("td",null,e.variety?e.variety:"N/A"),r.a.createElement("td",null,e.winery?e.winery:"N/A"),r.a.createElement("td",null,e.points?e.points:"N/A"),r.a.createElement("td",null,e.price?e.price:"N/A"),r.a.createElement("td",null,e.designation?e.designation:"N/A"))}))))),r.a.createElement(y.a,{previousLabel:"prev",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:i,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){return function(e){l(e)}(e)},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"}))}var E={tableRow:{margin:"10px"}};function C(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],l=t[1],i=Object(a.useState)([]),u=Object(o.a)(i,2),f=u[0],p=u[1],y=Object(a.useState)(""),E=Object(o.a)(y,2),C=E[0],w=E[1],j=Object(a.useState)([]),O=Object(o.a)(j,2),N=O[0],S=O[1],k=Object(a.useState)(""),x=Object(o.a)(k,2),R=x[0],D=x[1],P=Object(a.useState)(!0),A=Object(o.a)(P,2),I=A[0],T=A[1],W=Object(a.useState)(0),B=Object(o.a)(W,2),J=B[0],L=B[1],M=Object(a.useState)(10),F=Object(o.a)(M,2),z=F[0],V=F[1],$=Object(a.useState)(null),q=Object(o.a)($,2),G=q[0],H=q[1],K=function(){var e=n.filter((function(e){return e.country===C}));H(Math.ceil(e.length/z)),S(e)};return Object(a.useEffect)((function(){s.a.get("https://lightninglaw.azurewebsites.net/api/reviews").then((function(e){return{success:!0,message:"Data Retrieved Successfully",data:e.data}})).catch((function(e){return{success:!1,message:null,data:e}})).then((function(e){console.log("the response: ",e);var t,n=[],a=Object(c.a)(e.data);try{for(a.s();!(t=a.n()).done;){var r=t.value;n.push(r)}}catch(i){a.e(i)}finally{a.f()}l(n),T(!1)}))}),[]),Object(a.useEffect)((function(){var e,t=new Set,a=Object(c.a)(n);try{for(a.s();!(e=a.n()).done;){var r=e.value;null!==r.country&&t.add(r.country)}}catch(i){a.e(i)}finally{a.f()}var l=Array.from(t);p(l)}),[n]),Object(a.useEffect)((function(){K()}),[C]),!0===I?r.a.createElement("div",null,r.a.createElement("h1",null,"Fetching Wine Reviews"),r.a.createElement(m.a,{color:"#123abc",loading:I})):r.a.createElement("div",{className:"App",style:b.mainContainer},r.a.createElement("div",{className:"TopContainer",style:b.topContainer},r.a.createElement("div",{className:"innerContainer",style:b.innerContainer},r.a.createElement(g,{selectedCountryReviews:N})),r.a.createElement("div",{className:"innerContainer",style:b.innerContainer},r.a.createElement(d,{countryData:f,changeSelectedCountry:function(e){return function(e){w(e)}(e)},currentCountry:C}))),r.a.createElement("br",null),r.a.createElement("div",{className:"Bottom Container",style:b.bottomContainer},r.a.createElement("div",{className:"TopContainer",style:b.topContainer},r.a.createElement("div",{className:"innerContainer",style:b.innerContainer},N.length>0&&r.a.createElement("input",{type:"text",value:R,placeholder:"Search for Reviews",onChange:function(e){return D(e.target.value)}})),r.a.createElement("div",{className:"innerContainer",style:b.innerContainer},N.length>0&&r.a.createElement("button",{onClick:function(){return function(){var e=N.filter((function(e){return e.title===R||e.variety===R||e.winery===R||e.designation===R}));H(Math.ceil(e.length/z)),S(e)}()}},"Search")),r.a.createElement("div",{className:"innerContainer",style:b.innerContainer},R&&r.a.createElement("button",{onClick:function(){return D(""),void K()}},"Clear Filter")),r.a.createElement("div",{className:"innerContainer",style:b.innerContainer},N.length>0&&r.a.createElement("p",null,"Reviews per Page (style not applying correctly, but works): "),N.length>0&&r.a.createElement("div",null,r.a.createElement(v.a,{options:["10","20","30","50","100"],onChange:function(e){return function(e){console.log("this is e: ",e),V(parseInt(e.value))}(e)},value:z,placeholder:"Reviews per Page"})))),r.a.createElement("br",null),N.length>0&&r.a.createElement(h,{selectedCountryReviews:N,handlePageClick:function(e){return function(e){var t=e.selected;L(t*z)}(e)},offset:J,perPage:z,pageCount:G})))}var b={mainContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},topContainer:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},bottomContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},innerContainer:{margin:"30px"}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.aa8b56ec.chunk.js.map